<!DOCTYPE html>
<html lang="en">
  <head>
    <title> Human Skin Rendering</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/navbar.css">
    <link rel="stylesheet" href="styles/paralax.css">
    <link rel="stylesheet" href="styles/intropage.css">
    <script src="javascript/navbar.js"></script>
    <script type="text/javascript" src="javascript/paralax.js" ></script>
  </head>
  <body>
    <!-- PARALAX START -->
    <div id="top" class="parallax">
      <video autoplay muted loop id="myVideo">
        <source src="vids/Ed.mp4" type="video/mp4">
      </video>
      <div class="container-fluid">
        <!-- INTRO PAGE START -->
        <div class="row">
          <div class="col-lg-4">
            <h1 id="intropagetitle"> HUMAN SKIN RENDERING </h1>
          </div>
        </div>
        <div class="row margin-top-md-30">
          <div class="col-lg-4">
            <a href="#challenges1">
              <div class="card transulcent-card">
                <img class="card-img-top" src="imgs/challengesintro.jpg">
                <div class="card-img-overlay text-center">
                  <h2 class="intro-card-title card-title margin-top-lg-30-p">Challenges of Skin Rendering</h2>
                </div>
              </div>
            </a>
          </div>
          <div class="col-lg-4">
            <a href="#introtomodels">
              <div class="card transulcent-card">
                <img class="card-img-top" src="imgs/biospecintro.jpg">
                <div class="card-img-overlay text-center">
                  <h2 class="intro-card-title card-title margin-top-lg-30-p">Rendering Approaches</h2>
                </div>
              </div>
            </a>
          </div>
          <div class="col-lg-4">
            <a href="#maximisingrealism">
              <div class="card transulcent-card">
                <img class="card-img-top" src="imgs/bssrdfintro.jpg">
                <div class="card-img-overlay text-center">
                  <h2 class="intro-card-title card-title margin-top-lg-30-p">Interactivity</h2>
                </div>
              </div>
            </a>
          </div>
        </div>
        <!-- INTRO PAGE END -->
      </div>
    </div>
    <!-- PARALAX END -->
    <!-- NAVBAR START -->
    <nav id="topnavbar" class="nav navbar navbar-expand-sm bg-image navbar-dark container-fluid">
      <!-- Links -->
      <ul id="topnavbarul" class="navbar-nav">
        <li class="nav-item">
          <button type="button" class="btn btn-bg-collapsing" id="toggleSidebar"><img class ="rotated rotate" src="icons/double-arrow.svg" alt="Toggle"></button>
        </li>
        <li>
          <h3 class="bg-image" id="main-title">Human Skin Rendering</h3>
        </li>
      </ul>
    </nav>
    <!-- NAVBAR END -->
    <!-- SIDEBAR START -->
    <div class="container-fluid ">
      <div id="row-main" class="container-fluid">
        <div class="bg-secondary-dark sidebar" id="sidebar">
          <div class="container-fluid" id="sidebarid">
            <ul>
              <li>
                <a href="#top" class="btn btn-block sidebar-btn">Back To Top</a>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse1">Prerequisites</button>
                <ul id="collapse1" class="collapse">
                  <li><a href="#raytracing" class="btn btn-block sidebar-btn2">Ray Tracing</a></li>
                  <li><a href="#fresnel" class="btn btn-block sidebar-btn2">Fresnel equations</a></li>
                  <li><a href="#scatteringintro" class="btn btn-block sidebar-btn2">Scattering</a></li>
                  <li><a href="#texturemapping" class="btn btn-block sidebar-btn2">Texture Mapping</a></li>
                </ul>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse2">Challenges of skin rendering</button>
                <ul id="collapse2" class="collapse">
                  <li><a href="#structureofskin" class="btn btn-block sidebar-btn2">Structure of skin</a></li>
                  <li><a href="#geometry" class="btn btn-block sidebar-btn2">Geometry</a></li>
                  <li><a href="#typesimperfections" class="btn btn-block sidebar-btn2">Types, Imperfections</a></li>
                  <li><a href="#layersofskin" class="btn btn-block sidebar-btn2">Layers of skin</a></li>
                </ul>
              </li>
              <li>
                <a href="#introtomodels" class="btn btn-block sidebar-btn">Introduction to Models</a>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse3">The BioSpec Model</button>
                <ul id="collapse3" class="collapse">
                  <li><a href="#biospecmainfeatures" class="btn btn-block sidebar-btn2">Main Features</a></li>
                  <li><a href="#randomwalk" class="btn btn-block sidebar-btn2">The Random Walk</a></li>
                  <li><a href="#reflectancetransmittance" class="btn btn-block sidebar-btn2">Reflectance</a></li>
                  <li><a href="#scattering" class="btn btn-block sidebar-btn2">Scattering</a></li>
                  <li><a href="#absorbtion" class="btn btn-block sidebar-btn2">Absorption</a></li>
                  <li><a href="#biospecproblems" class="btn btn-block sidebar-btn2">Problems</a></li>
                  <li><a href="#biospecresult" class="btn btn-block sidebar-btn2">Results</a></li>
                </ul>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse4">A Spectral BSSRDF</button>
                <ul id="collapse4" class="collapse">
                  <li><a href="#whatisbssrdf" class="btn btn-block sidebar-btn2">What is a BSSRDF?</a></li>
                  <li><a href="#bssrdfmainfeatures" class="btn btn-block sidebar-btn2">Main features</a></li>
                  <li><a href="#reflection" class="btn btn-block sidebar-btn2">Reflection</a></li>
                  <li><a href="#scatteringandabsorbtion" class="btn btn-block sidebar-btn2">Scattering and Absorption</a></li>
                  <li><a href="#texturing" class="btn btn-block sidebar-btn2">Texturing</a></li>
                </ul>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse5">Wrinkles</button>
                <ul id="collapse5" class="collapse">
                  <li><a href="#introtowrinkes" class="btn btn-block sidebar-btn2">Introduction to Wrinkles</a></li>
                  <li><a href="#propertiesofwrinkles" class="btn btn-block sidebar-btn2">Properties of Wrinkles</a></li>
                  <li><a href="#trianglemesh" class="btn btn-block sidebar-btn2">Triangle Mesh</a></li>
                  <li><a href="#finescalewrinkles" class="btn btn-block sidebar-btn2">Fine Scale Wrinkles</a></li>
                  <li><a href="#largescalewrinkles" class="btn btn-block sidebar-btn2">Large-scale wrinkles</a></li>
                </ul>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse6">Interactive Rendering</button>
                <ul id="collapse6" class="collapse">
                  <li><a href="#maximisingrealism" class="btn btn-block sidebar-btn2">Interactive Rendering</a></li>
                  <li><a href="#background" class="btn btn-block sidebar-btn2">Fast Approximations</a></li>
                </ul>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse7">Authors</button>
                <ul id="collapse7" class="collapse">
                  <li><a href="#" class="btn btn-block sidebar-btn2">Zoltán Hanesz</a></li>
                  <li><a href="#" class="btn btn-block sidebar-btn2">Michal Pándy</a></li>
                  <li><a href="#" class="btn btn-block sidebar-btn2">Martin Piala</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
        <!-- SIDEBAR END -->
        <!-- CONTENT -->
        <div id="content">
          <div class="movedown">
            <!-- RAYTRACING START -->
            <section id="raytracingscattering" class="fullsite container-fluid">
              <div class="row">
                <section id="raytracing" class="col-lg-4 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header"> Ray Tracing </h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Is a technique used in high quality computer graphics renders. It is used for presenting 3D images on a 2D display by tracing a path of light through pixels on an image plane. The main idea behind ray tracing is trying to reproduce the path that each light ray follows in reverse direction from the eye back to its point of origin. In a 3D environment it is quite common that the ray of light collides with certain objects, which leads to various reflections and refractions. Each ray is represented by a mathematical equation that defines its path through space as a function of time. Rays are assigned a color based on the pigments the objects in the scene that the ray passes through and each pixel on the display corresponds to a ray.
                        </p>
                      </div>
                      <img src="imgs/raytracing.png" alt="" class="card-img-bottom">
                    </div>
                  </div>
                </section>
                <div class="col-lg-8 d-flex align-items-strech">
                  <div class="row">
                    <section id="fresnel" class="col-12 d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">Fresnel Equations</h2>
                        <div class="card-body">
                          <div class="section-text">
                            <p>
                              Fresnel equations describe the behaviour of light when moving between substances of different refractive properties. The Fresnel’s coefficients can be computed by considering the angle of incidence and transmittance of the ray as well as the refractive indices of both media. Using these we can determine the fraction of reflected as well as transmitted light. When it comes to skin, we consider an unpolarized Fresnel reflectance function. You can find out more about Fresnel equations on <a href="https://en.wikipedia.org/wiki/Fresnel_equations">wikipedia.</a>
                            </p>
                          </div>
                        </div>
                      </div>
                    </section>
                    <section id="scatteringintro" class="col-12 d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">Scattering</h2>
                        <div class="card-body">
                          <div class="section-text">
                            <p>
                              As light travels in electromagnetic waves it interacts with particles in the medium it travels in. This interaction results in energy being transmitted and emitted in a direction that differs from the initial direction of the photon. This phenomenon is called <a href="https://en.wikipedia.org/wiki/Scattering" target="_blank">scattering</a>.
                            </p>
                            <p>
                              A perfect example of scattering is the <a href="https://mynasadata.larc.nasa.gov/what-color-is-your-sky/" target="_blank">coloration of the sky</a>. When light travels through air it gets scattered by the small particles present in the atmosphere. Since wavelength is inversely proportional to the amount of scattering, the most scattered wavelengths are the shortest ones. In terms of visible light, these are the blue and violet light. Since the sun emits <a href="http://bit.ly/2tPJdIh" target="_blank">more blue than violet light</a>, the sky appears blue in the result.
                            </p>
                            <p>
                              Depending on the wavelength of light and the size of the particle it interacts with we distinguish between several types of scattering. For this work, the most important ones are <a href="https://en.wikipedia.org/wiki/Rayleigh_scattering" target="_blank">Rayleigh</a>, and <a href="https://en.wikipedia.org/wiki/Mie_scattering" target="_blank">Mie scattering</a>. The main difference between these is the direction of the scattered light which is illustrated in the picture below.
                            </p>
                            <img src="imgs/scattering.png" alt="" class="card-img-bottom">
                          </div>
                        </div>
                      </div>
                    </section>
                  </div>
                </div>
              </div>
            </section>
            <!-- RAYTRACING END -->
            <!-- TEXTURE MAPPING START -->
            <section id="texturemapping" class="fullsite container-fluid">
              <div class="row">
                <div class="col-md-12">
                  <h1>Texture Mapping</h1>
                </div>
              </div>
              <div class="row">
                <section id="whatistexturemapping" class="col-lg-4 d-flex align-items-strech">
                  <!-- Miso povie aby som to robil rucne, because reasons -->
                  <div class="card">
                    <h2 class="card-header">What is Texture Mapping</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          When a computer is rendering a frame it has to take into account every possible detail of the mesh of a currently rendered model. Therefore it is obvious that a high detailed (high-poly) mesh will take longer to render, but will appear more realistic.
                        </p>
                        <p>
                          This is enough for still renders or even animations where the observer does not have to see the final render in real-time, but for games, this would be unacceptable. Does this mean that games are doomed to run only in low frames-per-second or have poor visuals with low level of detail?
                        </p>
                        <p>
                          Texture mapping is the compromise between photorealism and performance.
                        </p>
                        <p>
                          Maps are special textures applied to the model that do not influence the final colour of the model, but how the light is reflected from the surface. Texture maps create the illusion of high-poly models via simulating features that are not present on low-poly meshes.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/mapsdiagram.jpg">
                  </div>
                </section>
                <div class="col-lg-8">
                  <div class="row">
                    <section id="bumpmaps" class="d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">Bump Maps</h2>
                        <div class="card-body">
                          <div class="row">
                            <div class="section-text col-lg-6">
                              <p>
                                Bump maps are special types of heightmaps. They are greyscaled textures describing the difference in height of the points the texture is applied to. Grey colour means ‘no change’, while black indicates 'lower' and white 'higher'. This way designers are able to tell the computer to generate a fake mesh.
                              </p>
                              <p>
                                One of the usages of bump maps is generating pores or small wrinkles.
                                Bump maps do not contain any information about reflection angles.
                              </p>
                            </div>
                            <div class="col-lg-6">
                              <img class="card-img" src="imgs/bumpmap.jpg">
                            </div>
                          </div>
                        </div>
                      </div>
                    </section>
                  </div>
                  <div class="row">
                    <section id="displacementmaps" class="d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">Displacement Maps</h2>
                        <div class="card-body">
                          <div class="row">
                            <div class="section-text col-lg-6">
                              <p>
                                Displacement maps are similar to bump maps. Both of them are height maps; however, while bump maps are creating fake ‘bumps’, displacement maps are actually changing the shape of the mesh by moving the vertices of the model upwards and downwards.
                              </p>
                              <p>
                                One of the most typical uses of displacement maps is generating a terrain from a texture.
                              </p>
                            </div>
                            <div class="col-lg-6">
                              <img class="card-img" src="imgs/displacementmap.jpg">
                            </div>
                          </div>
                        </div>
                      </div>
                    </section>
                  </div>
                  <div class="row">
                    <section id="normalmaps" class="d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">Normal Maps</h2>
                        <div class="card-body">
                          <div class="row">
                            <div class="section-text col-lg-6">
                              <p>
                                Normal maps contain RGB information describing the angle information of every point mapped by a texture.
                              </p>
                              <p>
                                The angle of every point of a texture can be described by its position (done by the model itself) and the vector of its normal. RGB values can describe every component of a vector in 3-dimensional space. This means it is enough to describe the angle and the steepness of all parts of the model.
                              </p>
                              <p>
                                This can be utilised to smoothen the edges of a model and make models look more natural.
                              </p>
                            </div>
                            <div class="col-lg-6">
                              <img class="card-img" src="imgs/normalmap.jpg">
                            </div>
                          </div>
                        </div>
                      </div>
                    </section>
                  </div>
                </div>
              </div>
            </section>
            <!-- TEXTURE MAPPING END -->
            <!-- CHALLENGES 1 START-->
            <section id="challenges1" class="fullsite container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <h1 class="topic-header">Challenges of Human Skin Rendering</h1>
                </div>
              </div>
              <div class="row">
                <section id="structureofskin" class="col-lg-6 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Structure of Skin</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Even if it does not seem like it, the structure of human skin is very complex and every little detail affects the final render. If we want to create realistic computer-generated images of skin we have to take all the little complexities into consideration.
                        </p>
                        <p>
                          Unlike many other materials, skin consists of <a href="#layersofskin">different layers</a> and each has its own function and behaviour. While skin can be very thin on eyelids and knuckles, it can be rather thick in the lips or belly area with the possibility of fat underneath the surface. Skin can also vary in colour due to different race, age, gender, physical wear, or daily exposure to the sun.
                        </p>
                        <p>
                          The <a href="#geometry">geometry of skin</a> also plays a great role in realistic representation. Skin has many small natural pores, wrinkles, and hairs. The little <a href="#typesimperfections">skin imperfections</a> like freckles and moles are also a part of the natural looking human skin. All these factors have to be taken into consideration when we intend to recreate human skin.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/structureofskincropped.jpeg">
                  </div>
                </section>
                <section id="geometry" class="col-lg-6 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Geometry of Human Skin</h2>
                    <img class="card-img-top" src="imgs/wrinklesforehead.jpg">
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Skin is never perfectly flat and realistic looking models rely heavily on the underlying topology. From a mesh model of body parts, through scars and wrinkles to the smallest details like pores.
                          Having an extremely detailed mesh which captures all the details of skin would be computationally very extensive and it would not work well in reality.
                        </p>
                        <p>
                          The polygonal model includes a realistically looking physical model of human body parts as well as bigger “details” such as wrinkles, scars, and skin folds. When modeling wrinkles Langer's Lines should be considered to make them look natural. The model should contain information about permanent wrinkles as well as wrinkles that are visible only during some facial expressions.
                        </p>
                        <p>
                          A higher detail of skin geometry can be achieved using <a href="#normalmaps">normal maps</a>.
                          Tiny pores, moles, and freckles can be “faked” using <a href="#bumpmaps">bump maps</a> which are able to  capture even the smallest details of skin. Even though the use of <a href="#texturemapping">maps</a> makes the calculations harder, they are more effective than having a highly detailed mesh.
                        </p>
                        <p>
                          The smallest details are often very crucial to achieve a credible look of the human skin.
                        </p>
                      </div>
                    </div>
                  </div>
                </section>
              </div>
              <div class="row">
                <section id="typesimperfections" class="col">
                  <div class="card">
                    <h2 class="card-header">Different Types and Imperfections of Skin</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          There are numerous types of human skin that make the realistic modelling even more difficult. Realistic models have to take into consideration the colour of skin, freckles, <a href="#wrinkles">wrinkles</a>, hairs (grown or ingrown under the skin). Furthermore, even on one individual, we can find many different types of skin. For example, the skin on lips is obviously different from the skin that we can find on our faces, and these are both different from the skin on the palms of our hands.
                        </p>
                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </section>
            <!-- CHALLENGES 1 END -->
            <!-- CHALLENGES 2 START -->
            <section id="challenges2" class="fullsite container-fluid">
              <div class="row">
                <section id="layersofskin" class="d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Layers of Skin</h2>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-lg-12">
                          <p class="section-text">
                            Human skin is made of three basic layers <a href="#epidermis">Epidermis</a>, <a href="#dermis">Dermis</a> and <a href="#hypodermis">Hypodermis</a>. All of these layers have their own structure, function and also their own sublayers which make the rendering of skin even more computationally extensive.
                          </p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg-6">
                          <h3 id="epidermis"> Epidermis </h3>
                          <p class="section-text">
                            The epidermis is the outermost layer and therefore is subject to the external environment. Epidermis (or “epi”) is the layer of skin that varies the most in thickness. The thinner this layer is, the more influential are the lower layers. Since the epi has a small oily layer on top, a small amount of uncoloured light is reflected from the surface of skin. However, the reflection is not perfectly mirror-like because the epidermis is rough, containing pores and little bumps. Only about 6-9% of light is reflected directly from the skin. The rest of the light enters the skin, <a href="#scatteringintro">scatters</a> and is either absorbed or exits the skin at a different point (see later).
                            The pigments responsible for the absorption of light are phaeomelanin (red/yellow) and eumelanin (brown/black). The ratio of their concentration in human skin varies from individual to individual.
                          </p>
                          <h3 id="dermis">Dermis</h3>
                          <p class="section-text">
                            The dermis is a structure that propagates the light further into the skin as well as absorbs it.
                            This layer contains all the blood vessels that can make skin look more reddish in case of a thinner Epidermis, like on the eyelids or cheekbones. The natural chromophore haemoglobin found in blood is the cause of the red colour of blood by the absorption of short wavelength light.
                          </p>
                        </div>
                        <div class="col-lg-6">
                          <img class="card-img" src="imgs/layersofskin1.png">
                          <h3 id="hypodermis">Hypodermis</h3>
                          <p class="section-text">
                            The hypodermis is the innermost layer of skin and its function is to store fat, collagen and elastin. It keeps the skin in its shape and connects it to underlying bones and muscles. Even though the hypodermis is biologically not considered as part of the skin, it has a major influence on its appearance. Hypodermis loses its ability to store collagen and fat as it ages, thus all tissues lose their strength, which makes the skin look more wrinkly and dry.
                            Since the Hypodermis contains mostly fat, its reflective abilities are strong and a huge portion of visible light that reaches this layer is reflected back to the Dermis and Epidermis.
                          </p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg-12">
                          <p class="section-text">
                            The geometry of skin also plays a great role in its realistic representation. The skin has many small natural pores, wrinkles and hairs. Little imperfections like freckles and moles are also part of the natural looking human skin.
                            All these factors have to be taken into consideration if we intend to create a precise recreation of human skin.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </section>
            <!-- CHALLENGES 2 END -->
            <!-- INTRO TO MODELS START -->
            <section id="introtomodels" class="fullsite container-fluid">
              <div class="row">
                <section class="col-md-12 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Introduction to models</h2>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-12">
                          <div class="section-text">
                            <p>
                              Previously, we could see the wide scope of <a href="#challenges1">problems</a> associated with rendering realistic human skin. Its layers, chemical composition, and high level of microstructures make it very complex to model and approximate.
                            </p>
                            <p>
                              In this section, we will discover some of the novel approaches to rendering realistic human skin. Namely, we will take a closer look at a <a href="#biospecmodel">biophysically-based spectral model</a> proposed by <a href="https://cs.uwaterloo.ca/research/tr/2004/01/tech-rep-CS-2004-01.pdf" target="_blank">Aravind Krishnaswamy and Gladimir V. G. Baranoski</a> which heavily relies on stochastic modelling. We will examine <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.226.4533&rep=rep1&type=pdf" target="_blank">Craig Donner’s and Henrik Wann Jensen’s</a> <a href="#spectralbssrdf1">spectral BSSRDF</a> which introduces various improvements by highly effective approximations. Following these two models, we will also take a peek at how to model <a href="#wrinkles">wrinkles</a> using a simple method for modelling wrinkles on human skin designed by <a href="http://web.media.mit.edu/~bandy/wrinkle/PG02wrinkle.pdf" target="_blank">Y. Bando, T. Kuratate, and T. Nishita</a>.
                            </p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4"><img class="card-img-bottom" src="imgs/paper1.png"></div>
                        <div class="col-md-4"><img class="card-img-bottom" src="imgs/paper2.png"></div>
                        <div class="col-md-4"><img class="card-img-bottom" src="imgs/paper3.png"></div>
                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </section>
            <!-- INTRO TO MODELS END -->
            <!-- THE BIOSPEC MODEL START -->
            <section id="biospecmodel" class="fullsite container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <h1 class="topic-header">The BioSpec Model</h1>
                </div>
              </div>
              <div class="row">
                <section id="biospecmainfeatures" class="col-lg-5 d-flex align-items-strech">
                  <!-- Miso povie aby som to robil rucne, because reasons -->
                  <div class="card">
                    <h2 class="card-header">Main Features</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          The BioSpec model was developed by <a href="https://cs.uwaterloo.ca/research/tr/2004/01/tech-rep-CS-2004-01.pdf" target="_blank">Aravind Krishnaswamy and Gladimir V. G. Baranoski</a> as a part of their research paper called <i>A biophysically-based spectral model of light interaction with human skin</i>.
                        </p>
                        <p>
                          Perhaps the main feature of this model is that it is modelled by a <a href="#randomwalk">random walk</a> process of the light rays that travel through the layers of skin. This is achieved by using random variables to decide whether and how light is reflected, refracted, transmitted, or absorbed. The next key feature is that it uses a large range of biologically relevant coefficients to accurately model the behaviour of the light rays in different layers of skin. We will take a deeper look at these features in the <a href="#randomwalk">next section</a>.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/refreftransabs.png">
                  </div>
                </section>
                <section id="randomwalk" class="col-lg-7 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Random Walk</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          The BioSpec model uses <a href="#raytracing">ray tracing</a> to follow the light rays in their random walk process. Each ray is assigned a wavelength as we will later see it is a necessary parameter for computing the events happening to the given ray.  There is a total of five interfaces that a ray goes through in its random walk.
                        </p>
                        <p>
                          These are:
                          <ul>
                            <li>air \(\leftrightarrow\) stratum corneum</li>
                            <li>stratum corneum \(\leftrightarrow\) epidermis</li>
                            <li>epidermis \(\leftrightarrow\) papillary dermis</li>
                            <li>papillary dermis \(\leftrightarrow\) reticular dermis</li>
                            <li>reticular dermis \(\leftrightarrow\) hypodermis</li>
                          </ul>
                        </p>
                        <p>
                          These transition interfaces are the same as the ones real light travels through when interacting with human skin. By separating the interfaces the BioSpec model is able to more accurately alter the behaviour of the light rays as it can assign different biological coefficients to interfaces. This raises the accuracy, but also the complexity of the model.
                        </p>
                        <p>
                          In each of the layers, a given ray can be <a href="#reflectancetransmittance">reflected and transmitted</a>, <a href="#scattering">scattered</a>, or <a href="#absorbtion">absorbed</a>. Now, we will deeper investigate how this is achieved in the model.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/skinlayers.png">
                  </div>
                </section>
              </div>
            </section>
            <!-- THE BIOSPEC MODEL END -->
            <!-- THE BIOSPEC MODEL 2 START -->
            <section id="biospecmodel2" class="fullsite container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <h1 class="topic-header">The BioSpec Model</h1>
                </div>
              </div>
              <div class="row">
                <section id="reflectancetransmittance" class="col-lg-4 d-flex align-items-strech">
                  <!-- Miso povie aby som to robil rucne, because reasons -->
                  <div class="card">
                    <h2 class="card-header">Reflectance and Transmittance</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          When it comes to reflectance and transmittance at the edges of the interfaces the model relies on <a href="#fresnel">Fresnel equations</a>. After computing the coefficient \(F\) we generate a random number \(\xi\) (from 0 to 1). If \(\xi \leq F\) then we generate a reflected ray using the <a href="http://www.physicsclassroom.com/class/refln/Lesson-1/The-Law-of-Reflection" target="_blank">law of reflection</a>. Otherwise we generate a refracted ray using <a href="https://www.math.ubc.ca/~cass/courses/m309-01a/chu/Fundamentals/snell.htm" target="_blank">Snell’s law</a>.
                        </p>
                        <p>
                          When considering the reflected light we also have to account for the folds present in the stratum corneum. These can be conveniently represented as ellipsoids where the shape and size of the ellipsoid is governed by random variables. Therefore, we do not reflect from the stratum corneum as if it was perfectly flat but we reflect from a randomly curved ellipsoid instead.
                        </p>
                        <p>
                          Note that the generation of the random variables is an example of the stochastic nature of this model. In general there is a total of 11 random variables in the model.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x400"> -->
                  </div>
                </section>
                <section id="scattering" class="col-lg-8 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Scattering</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          The BioSpec model differentiates between scattering in the layers until and including epidermis and after epidermis.
                        </p>
                        <p>
                          Scattering in the stratum corneum and epidermis involves perturbation of the ray in both the <a href="https://en.wikipedia.org/wiki/Spherical_coordinate_system" target="_blank">polar and the azimuthal</a> angles. When it comes to the azimuthal angle the scattering is symmetric; therefore it suffices to generate a random angle \(2\pi*\xi\). The polar angle is acquired by a randomized table lookup. Bruls and Leun have <a href="http://onlinelibrary.wiley.com/doi/10.1111/j.1751-1097.1984.tb04581.x/full" target="_blank">performed measurements</a> in these layers using which we can construct the table. For each wavelength, we store the measured fractions of scattered light as indices and their corresponding angle. Generating a random variable, scaling it to the size of the table, and using its integer part we can now acquire the necessary angle.
                        </p>
                        <p>
                          This method is promised to be more accurate than the use of data-fitting according to  <a href="https://cs.uwaterloo.ca/research/tr/2004/01/tech-rep-CS-2004-01.pdf" target="_blank">Aravind Krishnaswamy and Gladimir V. G. Baranoski</a>. Note that most of the <a href="#scatteringintro">scattering</a> happening in these layers is <a href="scattering">Mie scattering</a> due to the size of the particles the light interacts with. Therefore the light is mainly scattered in the forward direction.
                        </p>
                        <p>
                          In the remaining layers the model tests for <a href="scattering">Rayleigh scattering</a> as with the decreasing size of particles it becomes the dominant type of scattering. Firstly, we compute the amount of <a href="#scatteringintro">scattering</a> that occurs given the wavelength of the ray and the indices describing the biological properties of the layer. Namely the index of refraction of the medium, the index of refraction of the fibers, the density of the fibers, and the thickness of the medium.
                        </p>
                        <p>
                          <div class="equation">$$ R(\lambda) = \frac{8\pi^3\left(\left(\frac{\eta_f}{\eta_m}\right)^2-1\right)^2}{3N\lambda^4}\left(\frac{t}{\cos\theta}\right) $$</div>
                          \(\eta_f\) is the index of refraction of fibers, \(\eta_m\) of the medium, \(N\) is the density of the fibers, \(t\) is the thickness of the medium, \(\theta\) is the angle between the ray direction and the normal direction of the particle.
                        </p>
                        <p>
                          We can associate the amount of the scattering with the probability that the <a href="#scatteringintro">scattering</a> will occur by  \(1 - \exp\left(R\left(\lambda\right)\right)\). Then we generate a random variable to decide whether to account for Rayleigh scattering or not.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/900x300"> -->
                  </div>
                </section>
              </div>
            </section>
            <!-- THE BIOSPEC MODEL 2 END -->
            <!-- THE BIOSPEC MODEL 3 START -->
            <section id="biospecmodel3" class="fullsite container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <h1 class="topic-header">The BioSpec Model</h1>
                </div>
              </div>
              <div class="row">
                <section id="absorbtion" class="col-lg-6 d-flex align-items-strech">
                  <!-- Miso povie aby som to robil rucne, because reasons -->
                  <div class="card">
                    <h2 class="card-header">Absorbtion</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          After the ray is scattered it is tested for absorption. This is achieved by estimating the ray free path length of the tissue and comparing it to the actual thickness of the medium. If it is shorter than the thickness the ray is absorbed, otherwise it gets propagated to the next layer. Note that the last layer, hypodermis, is considered to be highly reflective, therefore the rays get reflected rather than absorbed in the final layer.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x400"> -->
                  </div>
                </section>
                <section id="biospecproblems" class="col-lg-6 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Problems</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Our explanation so far has efficiently hidden all the biological indexes the model needs; however, in reality, it requires almost two dozen in order to accurately describe the aforementioned phenomenon. As there is a large number of different types of skin it makes the BioSpec model inflexible. In the <a href="#spectralbssrdf1">following section</a>, we will look at a model which addresses these issues.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/900x300"> -->
                  </div>
                </section>
              </div>
              <div class="row">
                <section id="biospecresult" class="col-lg-12">
                  <div class="card">
                    <h2 class="card-header">Results</h2>
                    <div class="card-body">
                      <div class="row">
                        <img class="card-img mt-3 col-lg-6 d-flex align-items-strech" src="imgs/biospecresult1.png">
                        <img class="card-img mt-3 col-lg-6 d-flex align-items-strech" src="imgs/biospecresult2.png">
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/900x300"> -->
                  </div>
                </section>
              </div>
            </section>
            <!-- THE BIOSPEC MODEL 3 END -->
            <!-- A SPECTRAL BSSRDF 1 START -->
            <section id="spectralbssrdf1" class="fullsite container-fluid">
              <div class="row">
                <div class="col-md-12">
                  <h1 class="topic-header">A Spectral BSSRDF</h1>
                </div>
              </div>
              <div class="row">
                <section id="whatisbssrdf" class="col-md-6 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">What is BSSRFD?</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          In order to understand what is a BSSRDF we first need to understand what a <a href="https://en.wikipedia.org/wiki/Bidirectional_scattering_distribution_function">BSDF</a> is. A BSDF is a combination of a bidirectional reflectance distribution function (BRDF) and bidirectional transmittance distribution function (BTDF). These are both described as a ratio of the radiance of the reflected light and the irradiance of the incoming light. Combining these functions we create a BSDF. To get a BSSRDF we also need to account for phenomenon such as <a href="#scatteringintro">scattering</a>, hence the name bidirectional scattering-surface reflectance distribution function. The model created by <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.226.4533&rep=rep1&type=pdf" target="_blank">Donner and Jensen</a> can be conveniently described as a BSSRDF.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x400"> -->
                  </div>
                </section>
                <section id="bssrdfmainfeatures" class="col-md-6 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Main Features</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          The main distinction from the previous model is that the BSSRDF suggested by <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.226.4533&rep=rep1&type=pdf" target="_blank">Donner and Jensen</a> tries to approximate physical interactions of light while maintaining a very high level of realism. Instead of considering a large number of tissues and interfaces it takes into account only two. The dermal and the epidermal layers.
                        </p>
                        <p>
                          The next distinction is that there are only four biologically relevant parameters which make this model easily adjustable to different skin types. The parameters are oiliness of the skin, hemoglobin concentration, melanin concentration, and a blend factor between different types of melanin. The model also addresses texturing which was not solved by the BioSpec model.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x400"> -->
                  </div>
                </section>
              </div>
              <div class="row">
                <section id="reflection" class="col-lg-12 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Reflection</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Recall that in the previous section we had to model the reflection from the surface of skin using ellipsoids. In this model, however, we make use of a BRDF which was shown to give good results when considering the reflection from the human skin. The BRDF is called the Torrance-Sparrow microfacet BRDF. You can find out more about this BRDF <a href="https://www.osapublishing.org/josa/abstract.cfm?uri=josa-57-9-1105" target="_blank">here</a>.
                        </p>
                        <p>
                          In order to estimate the average reflectance of a given point, we integrate the BRDF over all the outgoing light directions. Specifically, we integrate over the outgoing hemisphere. This gives us an idea of the amount of light that was reflected. We assume the remaining light to be transmitted into the deeper level.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/brdf.png">
                  </div>
                </section>
              </div>
            </section>
            <!-- A SPECTRAL BSSRDF 1 END -->
            <!-- A SPECTRAL BSSRDF 2 START -->
            <section id="spectralbssrdf2" class="fullsite container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <h1 class="topic-header">A Spectral BSSRDF</h1>
                </div>
              </div>
              <div class="row">
                <section id="scatteringandabsorbtion" class="col-lg-9 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Scattering and Absorption</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          As light passes through the surface of the skin the model approximates the rest of the physical phenomenon using only two layers. The <a href="https://en.wikipedia.org/wiki/Epiermis" target="_blank">epidermis</a> and the <a href="https://en.wikipedia.org/wiki/Dermis" target="_blank">dermis</a>. The important distinction between these two layers is that the epidermis consists mainly of melanin and the dermis of hemoglobin. Both of these substances play a great role in the scattering and absorption of light.
                        </p>
                        <p>
                          In the <a href="#biospecmodel">previous model</a>, we tried to exactly follow each beam of light as it travels through the layers of skin. This model approaches subsurface scattering by introducing the concept of diffusion profiles.
                        </p>
                        <p>
                          Diffusion profiles present an approximation of how light <a href="#scatteringintro">scatters</a> beneath the surface of highly scattering translucent materials such as skin. A simple way of thinking about this new idea is by considering an experiment where we point a beam of a very thin white laser to a flat surface. Since some light goes beneath the surface and scatters back, we see a glow around the point where the laser hits the surface. Diffusion profiles tell us how much light returns from the surface as a function of angle and distance from the centre. These profiles are colour dependent.
                        </p>
                        <p>
                          Diffusion profiles can be measured, however, they are also <a href="https://graphics.stanford.edu/papers/bssrdf/bssrdf.pdf" target="_blank">expressible analytically</a> based on the features of the medium the light gets scattered in. Using this new way of expressing subsurface scattering it now suffices to sum across all the points where light enters skin considering the reflectance and also the diffusion profile of the given area.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/faces.png">
                  </div>
                </section>
                <section id="texturing" class="col-lg-3 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Texturing</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          In contrast from the previous model this model also accounts for the texture of the rendered skin. Using <a href="#texturemapping">texture maps</a> we can easily add texture to the rendered skin. The problem is that most maps also include the coloration caused by the hemoglobin and melanin. In order to fix this problem, the model normalizes the texture map by the already computed total reflectance of skin. This way we only see the differences caused by factors other than the actual color of the skin given by the model.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x600"> -->
                  </div>
                </section>
              </div>
            </section>
            <!-- A SPECTRAL BSSRDF 2 END -->
            <!-- WRINKLES 1 START -->
            <section id="wrinkles1" class="fullsite container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <h1 class="topic-header">Wrinkles</h1>
                </div>
              </div>
              <div class="row">
                <section id="introtowrinkes" class="col-lg-4 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Introduction to Wrinkles</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          An important feature of skin that enhances realism are wrinkles. Although we saw that the model developed by  <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.226.4533&rep=rep1&type=pdf" target="_blank">Donner and Jensen</a> was able to add texture by using <a href="#texturemapping">texture maps</a>, we would like to investigate how to generate these in a more dynamic manner. A paper called <i>A simple method for modelling wrinkles on human skin</i> by <a href="http://web.media.mit.edu/~bandy/wrinkle/PG02wrinkle.pdf" target="_blank">Y. Bando, T. Kuratate, and T. Nishita</a> introduces a way of achieving this and thus we shall investigate it in this section.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/wrinklyhand.png">
                  </div>
                </section>
                <section id="propertiesofwrinkles" class="col-lg-4 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Properties of Wrinkles</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          The model distinguishes between two types of wrinkles. <a href="#finescalewrinkles">Fine-scale wrinkles</a>, and <a href="#largescalewrinkles">large-scale wrinkles</a>. <a href="#finescalewrinkles">Fine-scale wrinkles</a> cover the whole body and are much harder to spot by eye than <a href="#largescalewrinkles">large-scale wrinkles</a>, which are usually associated with a certain body part such as the forehead.
                        </p>
                        <p>
                          When it comes to <a href="#finescalewrinkles">fine-scale wrinkles</a> the interesting properties they share are that the furrow lines usually run in both directions and the intersection of two furrow lines becomes an endpoint of either. Concerning <a href="largescalewrinkles">large-scale wrinkles</a> perhaps the most important property is the preservation of skin volume. Notice that skin is incompressible and so it is shrunk around <a href="#largescalewrinkles">large-scale wrinkles</a>. We will take this into consideration when modelling the shape of <a href="#largescalewrinkles">large-scale wrinkles</a>.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/langerlines.png">
                  </div>
                </section>
                <section id="trianglemesh" class="col-lg-4 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Triangle Mesh</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          This model uses a <a href="https://en.wikipedia.org/wiki/Triangle_mesh" target="_blank">triangle mesh</a> to represent a particular body part. Wrinkles are then modeled on top of this mesh. In order to acquire the mesh, we scan the particular body part and then we project it into 2D.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/trianglemesh.png">
                  </div>
                </section>
              </div>
            </section>
            <!-- WRINKLES 1 END -->
            <!-- WRINKLES 2 START -->
            <section id="wrinkles2" class="fullsite container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <h1 class="topic-header">Wrinkles</h1>
                </div>
              </div>
              <div class="row">
                <section id="finescalewrinkles" class="col-lg-12 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Fine-Scale Wrinkles</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <div class="row">
                          <div class="col-lg-6">
                            <p>
                              The key of modelling fine-scale wrinkles is the formation of a direction field on the particular body part. This direction field represents the directions of furrows at particular vertices of the triangle mesh. The user specifies a couple of direction vectors and then the rest is interpolated based on the <a href="#trianglemesh">triangle mesh</a>.
                            </p>
                            <p>
                              Carving the wrinkles happens by carving the furrows along the direction vectors. The output of the model is a height image which represents the depth of the carved wrinkles. This can be represented as a grayscale image which is initialized to white, and each wrinkle makes its positions more grey. The model does not allow wrinkle generation from points that already contain wrinkles. This is achieved by an occupancy image which is always updated throughout the wrinkle generation algorithm. Each position is either 0 or 1 so this way we do not start a wrinkle from a position already wrinkled.
                            </p>
                            <p>
                              Before examining the actual algorithm that generates the wrinkles we need to introduce six new attributes of fine-scale wrinkles. These are the perturbation angle, the length of the furrow segment, the depth of the furrow, the width of the furrow, and the distance between adjacent furrows. The intuition behind these parameters is that they are controlled by the magnitude of the vector field in the given area. Should the magnitude be large, the wrinkles become more oriented, longer, deeper, wider, and the distance between them increases. The exact opposite happens for smaller magnitudes.
                            </p>
                          </div>
                          <div class="col-lg-6">
                            <p>
                              <b>Now let’s look at the actual algorithm.</b>
                              <ol>
                                <li>If possible pick a starting point P. Compute the number of furrow segments n needed for the furrow based on the magnitude of the direction field. Compute the direction d of the furrow by interpolating the direction vectors of the vertices of the triangle P lies in.</li>
                                <li>Iterating over n do the following steps:</li>
                                <li>Add the perturbation angle to the direction.</li>
                                <li>Let Q be the end point of the given segment. If PQ intersects some other furrow, then set Q to be the intersection point and n to 0. This follows the property of fine wrinkles which states that either furrow has to end at the intersection.</li>
                                <li>Draw a line on the grayscale image representing PQ with its depth and width obtained from the magnitude of the vector field.</li>
                                <li>Record the occupied area in the occupancy image together with the calculated distance from the adjacent furrows.</li>
                                <li>Set P to Q and continue with step 3 if n > 0.</li>
                              </ol>
                            </p>
                            <p>
                              This algorithm is performed by randomly picking starting points P until a lot of furrows fail to generate. This happens when picking a starting point becomes probabilistically hard due to the occupancy image.
                            </p>
                            <!-- <img class="card-img-bottom" src="http://via.placeholder.com/400x200"> -->
                          </div>
                        </div>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/wrinklyhands.png">
                  </div>
                </section>
              </div>
            </section>
            <!-- WRINKLES 2 END -->
            <!-- WRINKLES 3 START -->
            <section id="wrinkles3" class="fullsite container-fluid">
              <div class="row">
                <div class="col-lg-12">
                  <h1 class="topic-header">Wrinkles</h1>
                </div>
              </div>
              <div class="row">
                <section id="largescalewrinkles" class="col-lg-12 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Large-Scale Wrinkles</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <div class="row">
                          <div class="col-lg-6">
                            <p>
                              Modelling large-scale wrinkles is much more challenging from the perspective that they can be quite distinct depending not only on the area of the skin but also on the given person. For this reason, the model cannot create them in bulks, but it has to assign and generate them one by one. The model achieves this by having users draw cubic <a href="https://en.wikipedia.org/wiki/B%C3%A9zier_curve">Bezier curves</a> on the surface of the skin. Then, the model creates a cross-sectional wrinkle shape function \(S(l)\). Here \(l\) is the perpendicular distance from the Bezier curve.
                            </p>
                            <p>
                              \(S(l)\) can be defined as:
                              $$ S(l) = d\left(\frac{l}{w}-1\right)\exp\left(-\frac{l}{w}\right) $$
                            </p>
                            <img class="card-img-bottom" src="imgs/wrinklesgraph.png">
                          </div>
                          <div class="col-lg-6">
                            <p>
                              Where \(d\) is the depth and \(w\) is the width of the wrinkle. This definition of \(S(l)\) has several advantages. Firstly, it is controlled by very intuitive parameters. Secondly, it models the fact the skin bulks around the edges of the wrinkle. Finally, notice that:
                            <div class="equation"> $$ \int_0^\infty S\left(l\right)dl = 0 $$ </div class="equation">
                          </p>
                          <p>
                            This property ensures the preservation of the skin volume.
                          </p>
                          <img class="card-img-bottom" src="imgs/largewrinkle.png">
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- <img class="card-img-bottom" src="http://via.placeholder.com/400x400"> -->
                </div>
              </section>
            </div>
          </section>
          <!-- WRINKLES 3 END -->
          <!-- INTERACTIVITY START -->
          <section id="maximisingrealism" class="fullsite container-fluid">
            <div class="row">
              <div class="col-lg-12">
                <h1 class="topic-header">Maximizing realism while maintaining interactivity</h1>
              </div>
              <section id="interactivityintro" class="col d-flex">
                <div class="card">
                  <h2 class="card-header">Introduction</h2>
                  <div class="card-body">
                    <div class="section-text">
                      <div class="row">
                        <div class="col-lg-4">
                          <p>
                            Simulating the layers of skin (epidermis, dermis etc.) and approximating its behaviour plays a very important role in human skin rendering. By dividing it up to homogeneous thin slabs, researchers managed to achieve incredibly realistic results, however this realism comes at a great cost. Today’s state-of-the-art techniques for rendering multilayer translucent materials normally take seconds or even minutes to render. This makes them unusable in certain situations, such as in computer games or other applications where multiple images need to be rendered in a second.
                          </p>
                        </div>
                        <div class="col-lg-4">
                          <p>
                            Most real-time methods for rendering translucent objects require precomputation of light transport on certain points of the surface. This approach however requires fixing the geometry of the model at precomputation time, not allowing deformation to the object itself, which makes it unusable for scenes with fully general animation or deformation (for example in computer games the shapes of objects often change based on user interaction with the environment).
                          </p>
                        </div>
                        <div class="col-lg-4">
                          <p>
                            In their  <a href="http://www.eugenedeon.com/wp-content/uploads/2014/04/efficientskin.pdf" target="_blank">paper</a>, Dr. Eugene d’Eon and his colleagues present a new efficient formulation of the <a href="https://dl.acm.org/citation.cfm?id=1073308" target="_blank">diffusion profile approximation technique</a> designed by Donner and Jensen achieving real-time rendering of skin in approximately 30 frames per second without the need of any precomputation. The key idea behind it is approximating the <a href="#scatteringandabsorbtion">diffusion profiles</a> of the layers of skin as a linear combination of Gaussian basic functions. In other words, they are using sums of Gaussian functions to accurately approximate the behaviour of illuminated skin. This method is in practice much faster than previously known techniques providing highly realistic results.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <img class="card-img-bottom" src="imgs/faces2.png">
                </div>
              </div>
            </section>
          </section>
          <!-- INTERACTIVITY END -->
          <!-- INTERACTIVITY MODEL START -->
          <section id="background" class="fullsite container-fluid">
            <div class="row">
              <div class="col-lg-12">
                <h1 class="topic-header">Maximizing realism while maintaining interactivity</h1>
              </div>
            </div>
            <section id="interactivitymodel" class="col-lg-12 d-flex align-items-strech">
              <div class="card">
                <h2 class="card-header">Fast approximate diffusion profiles</h2>
                <div class="card-body">
                  <div class="section-text">
                    <div class="row">
                      <div class="col-lg-4">
                        <p>
                          The key observation made by <a href="http://www.eugenedeon.com/wp-content/uploads/2014/04/efficientskin.pdf" target="_blank">d'Eon et al.</a> is, that sums of a small number of Gaussians work very well for approximation of diffusion profiles \(R(r)\), where \(r\) is the radius of the circle from which light is gathered. In most cases very good approximations can be done using four Gaussians. This observation is extremely useful in practice, because using some unique properties of Gaussians <a href="#scatteringintro">subsurface scattering</a> can be computed very efficiently.
                        </p>
                        <p>
                          The aim of this method is to find for each diffusion profile \(R(r)\), \(k\) Gaussians with weights \(w_i\) and variances \(v_i\) such that:
                          <div class="equation">
                            $$ R(r) \approx \sum_{i=1}^k w_iG(v_i, r) $$
                          </div>
                          where the Gaussian of variance v is chosen the following way:
                          <div class="equation">
                            $$ G (v, r) := \frac{1}{2\pi v} e^{-r^2/(2v)} $$
                          </div>
                          It is important to note, that when \(G(v, r)\) is used for a radial 2D blur, it cannot darken or brighten the input image, that is why the constant for the Gaussian is set to \(1/(2v)\).
                        </p>
                      </div>
                      <div class="col-lg-4">
                        <p>
                          Using this method once we know the diffusion profile \(R(r)\) which we want to use for our render, we find \(k\) Gaussians that minimize the following:
                          <div class="equation">
                            $$ \int_0^\infty \left( R(r) - \sum_{i=1}^k w_iG(v_i,r) \right)^2 dr $$
                          </div>
                          The result of this is an error function, where a squared error between \(R(r)\) and the sum of Gaussians at radial distance \(r\) is weighted by \(r\), because the profile at position \(r\) gathers light from a circle with circumference proportional to \(r\).
                        </p>
                      </div>
                      <div class="col-lg-4">
                        <p>
                          To measure the errors of their approximations, d’Eon et al. used a metric, which gives a root-mean-square ratio between the error in fitting the sum of Gaussians to \(R(r)\) and the target diffusion profile itself:
                          <div class="equation">
                            \(E = \)
                            \(\frac{\sqrt{\int_0^\infty \left( R(r) - \sum_{i=1}^k w_iG(v_i,r) \right)^2 dr}}{\sqrt{\int_0^\infty \left( R(r)\right)^2 dr}}\)
                          </div>
                          The following graph shows a comparison between two and four Gaussians used to approximate the difussion profile for the green wavelength of marble:
                          <img class="card-img" src="imgs/reflectancediagram.png">
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </section>
          <!-- INTERACTIVITY MODEL END -->
        </div>
      </div>
    </div>
  </div>
</body>
</html>