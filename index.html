<!DOCTYPE html>
<html lang="en">
  <head>
    <title> Human Skin Rendering</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/navbar.css">
    <link rel="stylesheet" href="styles/paralax.css">
    <link rel="stylesheet" href="styles/intropage.css">
    <script src="javascript/navbar.js"></script>
    <script type="text/javascript" src="javascript/paralax.js" ></script>
  </head>
  <body>
    <!-- PARALAX START -->
    <div id="top" class="parallax">
      <div class="container-fluid">
        <!-- INTRO PAGE START -->
        <div class="row">
          <div class="col-sm-4">
            <h1 id="intropagetitle"> HUMAN SKIN RENDERING </h1>
          </div>
        </div>
        <div class="row margin-top-md-30">
          <div class="col-sm-4">
            <a href="#challenges1">
              <div class="card transulcent-card">
                <img class="card-img-top" src="imgs/challengesintro.jpg">
                <div class="card-img-overlay text-center margin-top-lg-30-p">
                  <h2 class="">Challenges of Skin Rendering</h2>
                </div>
              </div>
            </a>
          </div>
          <div class="col-sm-4">
            <a href="#biospecmodel">
              <div class="card transulcent-card">
                <img class="card-img-top" src="imgs/biospecintro.jpg">
                <div class="card-img-overlay text-center margin-top-lg-30-p">
                  <h2 class="card-title">BioSpec Model</h2>
                </div>
              </div>
            </a>
          </div>
          <div class="col-sm-4">
            <a href="#spectralbssrdf1">
              <div class="card transulcent-card">
                <img class="card-img-top" src="imgs/bssrdfintro.jpg">
                <div class="card-img-overlay text-center margin-top-lg-30-p">
                  <h2 class="card-title">BSSRDF</h2>
                </div>
              </div>
            </a>
          </div>
        </div>
        <!-- INTRO PAGE END -->
      </div>
    </div>
    <!-- PARALAX END -->
    <!-- NAVBAR START -->
    <nav class="nav navbar navbar-expand-sm bg-image navbar-dark container-fluid">
      <!-- Links -->
      <ul id="topnavbar" class="navbar-nav">
        <li class="nav-item">
          <button type="button" class="btn btn-bg-collapsing" id="toggleSidebar"><img src="icons/three-bars.svg" alt="Toggle"></button>
        </li>
        <li>
          <h3 class="bg-image" id="main-title">Human Skin Rendering</h3>
        </li>
      </ul>
    </nav>
    <!-- NAVBAR END -->
    <!-- SIDEBAR START -->
    <div class="container-fluid ">
      <div id="row-main" class="container-fluid">
        <div class="bg-secondary-dark sidebar" id="sidebar">
          <div class="container-fluid" id="sidebarid">
            <ul>
              <li>
                <a href="#top" class="btn btn-block sidebar-btn">Back To Top</a>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse1">Introduction to Rendering</button>
                <ul id="collapse1" class="collapse">
                  <li><a href="#texturemapping" class="btn btn-block sidebar-btn2">Texture Mapping</a></li>
                </ul>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse2">Challenges of skin rendering</button>
                <ul id="collapse2" class="collapse">
                  <li><a href="#structureofskin" class="btn btn-block sidebar-btn2">Structure of skin</a></li>
                  <li><a href="#geometry" class="btn btn-block sidebar-btn2">Geometry</a></li>
                  <li><a href="#layersofskin" class="btn btn-block sidebar-btn2">Layers of skin</a></li>
                  <li><a href="#typesimperfections" class="btn btn-block sidebar-btn2">Types, Imperfections</a></li>
                </ul>
              </li>
              <li>
                <a href="#introtomodels" class="btn btn-block sidebar-btn">Introduction to Models</a>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse3">The BioSpec Model</button>
                <ul id="collapse3" class="collapse">
                  <li><a href="#biospecmainfeatures" class="btn btn-block sidebar-btn2">Main Features</a></li>
                  <li><a href="#randomwalk" class="btn btn-block sidebar-btn2">The Random Walk</a></li>
                  <li><a href="#reflactancetransmittance" class="btn btn-block sidebar-btn2">Reflectance and Transmittance</a></li>
                  <li><a href="#scattering" class="btn btn-block sidebar-btn2">Scattering</a></li>
                  <li><a href="#absorbtion" class="btn btn-block sidebar-btn2">Absorption</a></li>
                  <li><a href="#biospecproblems" class="btn btn-block sidebar-btn2">Problems</a></li>
                </ul>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse4">A Spectral BSSRDF</button>
                <ul id="collapse4" class="collapse">
                  <li><a href="#whatisbssrdf" class="btn btn-block sidebar-btn2">What is a BSSRDF?</a></li>
                  <li><a href="#bssrdfmainfeatures" class="btn btn-block sidebar-btn2">Main features</a></li>
                  <li><a href="#reflection" class="btn btn-block sidebar-btn2">Reflection</a></li>
                  <li><a href="#scatteringandabsorbtion" class="btn btn-block sidebar-btn2">Scattering and Absorption</a></li>
                  <li><a href="#texturing" class="btn btn-block sidebar-btn2">Texturing</a></li>
                </ul>
              </li>
              <li>
                <button type="button" class="btn btn-block sidebar-btn" data-toggle="collapse" data-target="#collapse5">Wrinkles</button>
                <ul id="collapse5" class="collapse">
                  <li><a href="#introtowrinkes" class="btn btn-block sidebar-btn2">Introduction to Wrinkles</a></li>
                  <li><a href="#propertiesofwrinkles" class="btn btn-block sidebar-btn2">Properties of Wrinkles</a></li>
                  <li><a href="#trianglemesh" class="btn btn-block sidebar-btn2">Triangle Mesh</a></li>
                  <li><a href="#finescalewrinkles" class="btn btn-block sidebar-btn2">Fine Scale Wrinkles</a></li>
                  <li><a href="#largescalewrinkles" class="btn btn-block sidebar-btn2">Large-scale wrinkles</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
        <!-- SIDEBAR END -->
        <!-- CONTENT -->
        <div id="content">
          <div class="movedown">
            <!-- TEXTURE MAPPING START -->
            <section id="texturemapping" class="fullsite container-fluid">
              <div class="row">
                <div class="col-md-12">
                  <h1>Texture Mapping</h1>
                </div>
              </div>
              <div class="row">
                <section id="whatistexturemapping" class="col-sm-5 d-flex align-items-strech">
                  <!-- Miso povie aby som to robil rucne, because reasons -->
                  <div class="card">
                    <h2 class="card-header">What is Texture Mapping</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Even if it does not seem like it, skin is very complex and every little detail of human skin affects the final look of the skin. If we want to create realistic computer-generated pictures of skin we have to take all the little complexities into consideration.
                        </p>
                        <p>
                          Unlike many other materials, the skin consists of many different layers and each has its own function and behaviour. Skin appearance depends also on thickness. While skin can be very thin on eyelids or knuckles, the skin on the lips or belly can be thicker with also possibility of fat underneath the surface. Skin can also vary in colour due to different race, age, gender, physical wear or daily exposure to the sun.
                        </p>
                        <p>
                          The geometry of the skin also plays a great role in realistic representation. The skin has many small natural pores, wrinkles and hairs. The little skin imperfections like freckles and moles are also part of the natural looking human skin.
                          All these factors have to be taken into consideration while we intend to recreate believable human skin.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/mapsdiagram.jpg">
                  </div>
                </section>
                <div class="col-sm-7">
                  <div class="row">
                    <section id="bumpmaps" class="d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">Bump Maps</h2>
                        <div class="card-body">
                          <div class="row">
                            <div class="section-text col-sm-6">
                              <p>
                                Bump maps are textures special type of heightmap. They are greyscaled textures describing a difference in height of points the texture is applied to. Grey colour means ‘no change’, while black means ‘down’ and white means ‘up’. This way designers are able to tell the computer to generate a fake mesh.
                              </p>
                              <p>
                                One of the usages of using the bump maps is generating pores or small wrinkles of skin.
                                Bump maps do not contain any information about reflection angles at all.
                              </p>
                            </div>
                            <div class="col-sm-6">
                              <img class="card-img" src="imgs/bumpmap.jpg">
                            </div>
                          </div>
                        </div>
                      </div>
                    </section>
                  </div>
                  <div class="row">
                    <section id="displacementmaps" class="d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">Displacement Maps</h2>
                        <div class="card-body">
                          <div class="row">
                            <div class="section-text col-sm-6">
                              <p>
                                Displacement maps are similar to bump maps. Both of them are height maps and whereas bump maps are creating fake ‘bumps’, displacement maps are actually changing the shape of mesh and pulling and pushing the vertices of the model upwards and downwards.
                              </p>
                              <p>
                                One of the most typical use of displacement maps is generating the terrain from the texture.
                              </p>
                            </div>
                            <div class="col-sm-6">
                              <img class="card-img" src="imgs/displacementmap.jpg">
                            </div>
                          </div>
                        </div>
                      </div>
                    </section>
                  </div>
                  <div class="row">
                    <section id="normalmaps" class="d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">Normal Maps</h2>
                        <div class="card-body">
                          <div class="row">
                            <div class="section-text col-sm-6">
                              <p>
                                Normal maps contain RGB information describing the angle information of every point mapped by this texture.          
                              </p>
                              <p>
                               The angle of every point of the texture can be described by its position (done by the model itself) and vector of its normal. RGB value can describe every component of a vector in 3-dimensional space, therefore is enough to describe the angle and steepness of all parts of the model.
                              </p>
                              <p>
                                This can be utilised to smooth the edges of the model and make all the models look natural.
                              </p>
                            </div>
                            <div class="col-sm-6">
                              <img class="card-img" src="imgs/normalmap.jpg">
                            </div>
                          </div>
                        </div>
                      </div>
                    </section>
                  </div>
                </div>
              </div>
            </section>
            <!-- TEXTURE MAPPING END -->
            
            <!-- CHALLENGES 1 START-->
            <section id="challenges1" class="fullsite container-fluid">
              <div class="row">
                <div class="col-sm-12">
                  <h1 class="topic-header">Challenges of Human Skin Rendering</h1>
                </div>
              </div>
              <div class="row">
                <section id="structureofskin" class="col-lg-6 d-flex align-items-strech">
                  <!-- Miso povie aby som to robil rucne, because reasons -->
                  <div class="card">
                    <h2 class="card-header">Structure of Skin</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Even if it does not seem like it, skin is very complex and every little detail of human skin affects the final look of the skin. If we want to create realistic computer-generated pictures of skin we have to take all the little complexities into consideration.
                        </p>
                        <p>
                          Unlike many other materials, the skin consists of many different layers and each has its own function and behaviour. Skin appearance depends also on thickness. While skin can be very thin on eyelids or knuckles, the skin on the lips or belly can be thicker with also possibility of fat underneath the surface. Skin can also vary in colour due to different race, age, gender, physical wear or daily exposure to the sun.
                        </p>
                        <p>
                          The geometry of the skin also plays a great role in realistic representation. The skin has many small natural pores, wrinkles and hairs. The little skin imperfections like freckles and moles are also part of the natural looking human skin.
                          All these factors have to be taken into consideration while we intend to recreate believable human skin.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/structureofskincropped.jpeg">
                  </div>
                </section>
                <section id="geometry" class="col-lg-6 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Geometry of Human Skin</h2>
                    <img class="card-img" src="imgs/wrinklesforehead.jpg">
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Skin is never perfectly flat and realistic looking model relies heavily on underlying topology. From mesh model of body parts, through scars and wrinkles to smallest details like pores.
                          Having an extremely detailed mesh capturing all the details of skin would be computationally too extensive and it would not work in reality.
                        </p>
                        <p>
                          The polygonal model includes realistically looking physical model of human body parts as well as bigger “details” such as wrinkles, scars or skin folds. When modeling wrinkles Langer's Lines should be considered to make them look natural. The model should contain information about permanent wrinkles as well as wrinkles that are visible only during some facial expressions, etc.
                        </p>
                        <p>
                          Higher detail of geometry of skin can be achieved using normal maps.
                          Tiny pores, moles or freckles has to be “faked” using bump maps which can capture even the smallest details of skin. Even though the use of maps is making the calculations harder, they are more effective than having highly detailed mesh.
                        </p>
                        <p>
                          The smallest details are crucial to the credible look of the skin and the more details are added the bigger is the chance that the observer gets distracted and does not notice the image is not real and is generated by the computer.
                        </p>
                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </section>
            <!-- CHALLENGES 1 END -->
            <!-- CHALLENGES 2 START -->
            <section id="challenges2" class="fullsite container-fluid">
              <div class="row">
                <section id="layersofskin" class="col-my-7 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Layers of Skin</h2>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-sm-12">
                          <p class="section-text">
                            Human skin is made of three basic layers Epidermis, Dermis and Hypodermis. All of these layers have their own structure, function and also their own sublayers which make the rendering of skin even more computationally extensive.
                          </p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg-6">
                          <h3> Epidermis </h3>
                          <p class="section-text">
                            The epidermis is outermost layer and therefore is subject to the external environment. Epidermis (or “epi”) is the layer of skin that varies the most in the thickness and thinner this layer is, the more influential are the lower layers of skin. The top layer of skin is rough and oily, due to small oily layer on the top of epi. This makes the skin directly reflect a small amount of uncoloured light. However, the reflection is not perfectly mirror-like because of the geometry of top layer. Epi is rough and contains pores and little bumps. But only about 6-9% of light is reflected directly from the skin. The rest of the light enters the skin, scatters and is either absorbed or exits the skin at a different point (see later).
                            Responsibility for the absorption of light takes red/yellow absorbing phaeomelanin and a brown/black eumelanin. The ratio of their concentration contained in human skin varies from individual to individual.
                          </p>
                          <h3>Dermis</h3>
                          <p class="section-text">
                            The dermis is a structure that propagates the light further into the skin as well as absorbs the light.
                            This layer contains all the blood vessels that can make the skin look more reddish when Epidermis is thinner, like on eyelids or cheekbones. In blood, we can find natural chromophore haemoglobin, which is the cause of the red colour of blood by the absorption of short wavelength light.
                          </p>
                        </div>
                        <div class="col-lg-6">
                          <img class="card-img" src="imgs/layersofskin1.png">
                          <h3>Hypodermis</h3>
                          <p class="section-text">
                            The hypodermis is innermost layer of skin and its function is to store fat, collagen and elastin. It keeps the skin in its shape and connects it to underlying bones and muscles. Even though hypodermis is biologically not considered as part of the skin it has a big influence on the skin's appearance. Hypodermis loses its ability to store collagen and fat as it ages, thus all tissues loses its strength and makes the skin look more wrinkly and dry.
                            Because Hypodermis contains mostly fat its reflective abilities are strong and the huge portion of visible light that reaches this layer is reflected back to Dermis and Epidermis.
                          </p>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg-12">
                          <p class="section-text">
                            The geometry of the skin also plays a great role in realistic representation. The skin has many small natural pores, wrinkles and hairs. The little skin imperfections like freckles and moles are also part of the natural looking human skin.
                            All these factors have to be taken into consideration while we intend to recreate believable human skin.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </section>
                <section id="typesimperfections" class="col-my-5 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Different Types and Imperfections of Skin</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          There are numerous types of human skin that make the realistic modeling even more difficult. Realistic models have to take into consideration the colour of skin, freckles, wrinkles, hairs (grown or ingrown under the skin). And even on one individual, we can find all types of skin. For example, the skin on lips is obviously different than skin that we can find on the face and this one is also different to the skin that is on hands, etc.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom mb-1" src="imgs/generations.jpg">
                    <img class="card-img-bottom" src="imgs/typesofskin.png">
                  </div>
                </section>
              </div>
            </section>
            <!-- CHALLENGES 2 END -->
            <!-- INTRO TO MODELS START -->
            <section id="introtomodels" class="fullsite container-fluid">
              <div class="row">
                <section class="col-md-12 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Introduction to models</h2>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-12">
                          <div class="section-text">
                            <p>
                              In the introduction we could see the wide scope of problems associated with rendering realistic human skin. Its layers, chemical composition, and high level of microstructures make it very complex to model and approximate.
                            </p>
                            <p>
                              In this section we will discover some of the novel approaches of rendering realistic human skin. Namely, we will take a closer look at a biophysically based spectral model proposed by Aravind Krishnaswamy and Gladimir V. G. Baranoski which heavily relies on stochastic modelling. We will examine Craig Donner’s and Henrik Wann Jensen’s spectral BSSRDF which introduces various improvements by highly effective approximations. Following these two models we will also take a peek at how to model wrinkles using a simple method for modeling wrinkles on human skin designed by Y. Bando, T. Kuratate, and T. Nishita.
                            </p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-4"><img class="card-img-bottom" src="imgs/paper1.png"></div>
                        <div class="col-md-4"><img class="card-img-bottom" src="imgs/paper2.png"></div>
                        <div class="col-md-4"><img class="card-img-bottom" src="imgs/paper3.png"></div>
                      </div>
                    </div>
                  </div>
                </section>
              </div>
            </section>
            <!-- INTRO TO MODELS END -->
            <!-- THE BIOSPEC MODEL START -->
            <section id="biospecmodel" class="fullsite container-fluid">
              <div class="row">
                <div class="col-sm-12">
                  <h1 class="topic-header">The Biospec Model</h1>
                </div>
              </div>
              <div class="row">
                <section id="biospecmainfeatures" class="col-lg-5 d-flex align-items-strech">
                  <!-- Miso povie aby som to robil rucne, because reasons -->
                  <div class="card">
                    <h2 class="card-header">Main Features</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          The BioSpec model was developed by Aravind Krishnaswamy and Gladimir V. G. Baranoski as a part of their research paper called <i>A biophysically-based spectral model of light interaction with human skin</i>.
                        </p>
                        <p>
                          Perhaps the main feature of this model is that it is modelled by a random walk process of the light rays that travel across the layers of skin. This is achieved by using random variables to decide whether and how light is reflected, refracted, transmitted, or absorbed. The next key feature is that it uses a large range of biologically relevant coefficients to accurately model the behaviour of the light rays in different layers of skin. We will take a deeper look at these features in the next section.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="http://via.placeholder.com/600x400">
                  </div>
                </section>
                <section id="randomwalk" class="col-lg-7 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Random Walk</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          The BioSpec model uses Monte Carlo ray tracing to follow the light rays in their random walk process. Each ray is assigned a wavelength as we will later see it is a necessary parameter for computing the events happening to the given ray.  There is a total of five interfaces that a ray goes through in it’s random walk
                        </p>
                        <p>
                          These are:
                          <ul>
                            <li>air \(\leftrightarrow\) stratum corneum</li>
                            <li>stratum corneum \(\leftrightarrow\) epidermis</li>
                            <li>epidermis \(\leftrightarrow\) papillary dermis</li>
                            <li>papillary dermis \(\leftrightarrow\) reticular dermis</li>
                            <li>reticular dermis \(\leftrightarrow\) hypodermis</li>
                          </ul>
                        </p>
                        <p>
                          Notice, that these transition interfaces are the same as the ones real light travels through when interacting with human skin. By separating the interfaces the BioSpec model is able to more accurately alter the behaviour of the light rays as it can assign different biological coefficients to interfaces. This raises the accuracy, but also the complexity of the model.
                        </p>
                        <p>
                          In each of the layers a given ray can be reflected and transmitted, scattered, or absorbed. Now, we will deeper investigate how this is achieved in the model.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="imgs/skinlayers.png">
                  </div>
                </section>
              </div>
            </section>
            <!-- THE BIOSPEC MODEL END -->
            <!-- THE BIOSPEC MODEL 2 START -->
            <section id="biospecmodel2" class="fullsite container-fluid">
              <div class="row">
                <div class="col-sm-12">
                  <h1 class="topic-header">The Biospec Model</h1>
                </div>
              </div>
              <div class="row">
                <section id="reflactancetransmittance" class="col-lg-4 d-flex align-items-strech">
                  <!-- Miso povie aby som to robil rucne, because reasons -->
                  <div class="card">
                    <h2 class="card-header">Reflectance and Transmittance</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          When it comes to reflectance and transmittance at the edges of the interfaces the model relies on Fresnel equations. These equations describe the behaviour of light when moving between media of differing refractive indices. The Fresnel’s coefficients can be computed by considering the angle of incidence and transmittance of the ray as well as the refractive indices of both tissues. After computing the coefficient \(F\) we generate a random number \(\xi\) (from 0 to 1). If \(\xi \leq F\) then we generate a reflected ray using the law of reflection. Otherwise we generate a refracted ray using Snell’s law.
                        </p>
                        <p>
                          When considering the reflected light we also have to account for the folds present in the stratum corneum. These can be conveniently represented as ellipsoids where the shape and size of the ellipsoid is governed by random variables. Therefore, we do not reflect from the stratum corneum as if it was perfectly flat but we reflect from a randomly curved ellipsoid instead.
                        </p>
                        <p>
                          Note that the generation of the random variables is an example of the stochastic nature of this model. In general there is a total of 11 random variables in the model.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x400"> -->
                  </div>
                </section>
                <section id="scattering" class="col-lg-8 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Scattering</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          The BioSpec model differentiates between scattering in the layers until and including epidermis and after epidermis.
                        </p>
                        <p>
                          Scattering in the stratum corneum and epidermis involves perturbation of the ray in both the polar and the azimuthal angles. When it comes to the azimuthal angle the scattering is symmetric; therefore it suffices to generate a random angle \(2\pi*\xi\). The polar angle is acquired by a randomized table lookup. Burn and Leun[odkazat sa] have performed measurements in these layers using which we can construct the table. For each wavelength we store the measured fractions of scattered light as indices and their corresponding angle. Generating a random variable, scaling it to the size of the table, and using its integer part we can now acquire the necessary angle.
                        </p>
                        <p>
                          This method is promised to be more accurate than the use of data-fitting. Note that most of the scattering happening in these layers is Mie scattering due to the size of the particles the light interacts with. Therefore the light is mainly scattered in the forward direction.
                        </p>
                        <p>
                          In the remaining layers the model tests for Rayleigh scattering as with the decreasing size of the particles it becomes the dominant type of scattering. Firstly, we compute the amount of scattering that occurs given the wavelength of the ray and the indices describing the biological properties of the layer. Namely the index of refraction of the medium, the index of refraction of the fibers, the density of the fibers, and the thickness of the medium.
                        </p>
                        <p>
                          <div class="equation">$$ R(\lambda) = \frac{8\pi^3\left(\left(\frac{\eta_f}{\eta_m}\right)^2-1\right)^2}{3N\lambda^4}\left(\frac{t}{\cos\theta}\right) $$</div>
                          (here \(\eta_f\) is the index of refraction of fibers, nm of the medium, \(N\) is the density of the fibers, \(t\) is the thickness of the medium, \(\theta\) is the angle between the ray direction and the normal direction of the particle)
                        </p>
                        <p>
                          We can associate the amount of the scattering with the probability that the scattering will occur by \(1 - \exp\left(R\left(\lambda\right)\right)\). Then we generate a random variable to decide whether to account for Rayleigh scattering or not. If the random variable is less than \(1 - \exp\left(R\left(\lambda\right)\right)\) we calculate the azimuthal angle similarly as in the previous section. The polar angle is computed using rejection sampling with the Rayleigh phase function. Should the \(1 - \exp\left(R\left(\lambda\right)\right)\) be less than our random variable we randomize both angles around the normal direction using the cosine distribution.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/900x300"> -->
                  </div>
                </section>
              </div>
            </section>
            <!-- THE BIOSPEC MODEL 2 END -->
            <!-- THE BIOSPEC MODEL 3 START -->
            <section id="biospecmodel3" class="fullsite container-fluid">
              <div class="row">
                <div class="col-sm-12">
                  <h1 class="topic-header">The Biospec Model</h1>
                </div>
              </div>
              <div class="row">
                <section id="absorbtion" class="col-lg-6 d-flex align-items-strech">
                  <!-- Miso povie aby som to robil rucne, because reasons -->
                  <div class="card">
                    <h2 class="card-header">Absorbtion</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          After the ray is scattered it is tested of for absorption. This is achieved by estimating the ray free path length of the tissue and comparing it to the actual thickness of the medium. If it is shorter than the thickness the ray is absorbed, otherwise it gets propagated to the next layer. Note that the last layer, hypodermis, is considered to be highly reflective, therefore the rays get reflected rather than absorbed in the final layer.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x400"> -->
                  </div>
                </section>
                <section id="biospecproblems" class="col-lg-6 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Problems</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Our explanation so far has efficiently hidden all the biological indexes the model needs; however, in reality it requires almost two dozen in order to accurately describe the aforementioned phenomenons. As there is a large amount of different types of skin it makes the BioSpec model inflexible. In the following section we will look at a model which addresses these issues.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/900x300"> -->
                  </div>
                </section>
              </div>
            </section>
            <!-- THE BIOSPEC MODEL 3 END -->
            <!-- A SPECTRAL BSSRDF 1 START -->
            <section id="spectralbssrdf1" class="fullsite container-fluid">
              <div class="row">
                <div class="col-md-12">
                  <h1 class="topic-header">A Spectral BSSRDF</h1>
                </div>
              </div>
              <div class="row">
                <section class="col-lg-5 d-flex align-items-strech">
                  <div class="row">
                    <section id="whatisbssrdf" class="col-lg-12 mb-3 d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">What is BSSRFD?</h2>
                        <div class="card-body">
                          <div class="section-text">
                            <p>
                              In order to understand what is a BSSRDF we first need to understand what a BSDF is. A BSDF is a combination of a bidirectional reflectance distribution function, and bidirectional transmittance distribution function. These are both described as a ratio of the radiance of the reflected light and the irradiance of the incoming light. Combining these functions we create a BSDF. To get a BSSRDF we also need to account for phenomenons such as scattering, hence the name bidirectional scattering-surface reflectance distribution function. The model created by Donner, and Jansen can be conveniently described as a BSSRDF.
                            </p>
                          </div>
                        </div>
                        <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x400"> -->
                      </div>
                    </section>
                    <section id="bssrdfmainfeatures" class="col-lg-12 d-flex align-items-strech">
                      <div class="card">
                        <h2 class="card-header">Main Features</h2>
                        <div class="card-body">
                          <div class="section-text">
                            <p>
                              The main distinction from the previous model is that the BSSRDF suggested by Donner and Jansen tries to approximate phenomenons while maintaining a very high level of realism. Instead of considering a large number of tissues and interfaces it takes into account only two. The dermal and the epidermal layers.
                            </p>
                            <p>
                              The next distinction is that there are only four biologically relevant parameters which makes this model easily adjustable to different skin types. The parameters are: oiliness of the skin, hemoglobin concentration, melanin concentration, and a blend factor between different types of melanin. The model also addresses texturing which was not solved by the BioSpec model.
                            </p>
                          </div>
                        </div>
                        <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x400"> -->
                      </div>
                    </section>
                  </div>
                </section>
                <section id="reflection" class="col-lg-7 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Relfection</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          Recall that in the previous section we had to model the reflection from the surface of skin using ellipsoids. In this model, however, we make use of a BRDF which was shown to give good results when considering the reflection from the human skin. The BRDF is called the Torrance-Sparrow microfacet BRDF.
                        </p>
                        <p>
                          <div class="equation col-12">
                            \(f_{r,TS} =\) \(\rho_s\frac{F\left(x,\overrightarrow{\omega}_o,\overrightarrow{\omega}_i\right) \cdot D\left(x,\overrightarrow{\omega}_o,\overrightarrow{\omega}_i,\sigma\right) \cdot G\left(x,\overrightarrow{\omega}_o,\overrightarrow{\omega}_i\right)}{ 4 \left(\overrightarrow{\omega}_i\cdot\overrightarrow{n}\right) \left(\overrightarrow{\omega}_o\cdot\overrightarrow{n}\right)}\)
                          </div>
                          Here x is the point at which we are modeling, F is the Fresnel reflectance, D models the distributions of the microstructures across the stratum corneum, G is a geometry term, wi and wo are the directions of the incoming and reflected light respectively, and ps is a term which controls the oiliness of skin. O controls the roughness of the skin. In other words it is the root mean square of the slope of the microstructures.
                        </p>
                        <p>
                          In order to estimate the average reflectance of a given point we can just integrate fr,ts over all the outgoing light directions. Specifically, we integrate over the outgoing hemisphere. This gives us an idea of the amount of light that was reflected. We assume the remaining light to be transmitted into the deeper level.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="http://via.placeholder.com/600x200">
                  </div>
                </section>
              </div>
            </section>
            <!-- A SPECTRAL BSSRDF 1 END -->
            <!-- A SPECTRAL BSSRDF 2 START -->
            <section id="spectralbssrdf2" class="fullsite container-fluid">
              <div class="row">
                <div class="col-sm-12">
                  <h1 class="topic-header">A Spectral BSSRDF</h1>
                </div>
              </div>
              <div class="row">
                <section id="scatteringandabsorbtion" class="col-lg-8 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Scattering and absorption</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          As light passes through the surface of skin the model approximates the rest of the physical phenomenons using only two layers of skin. The epidermis and the dermis. The important distinction between these two layers is that the epidermis consists mainly of melanin and the dermis of hemoglobin. Both of these substances play a great role in the scattering and absorption of light.
                        </p>
                        <p>
                          Modeling the subsurface scattering and absorption can be achieved by using the multipole diffusion model.  This model approximates the general BSSRDF
                          <div class="equation">\(S\left(x_i,\overrightarrow{\omega}_i,x_o, \overrightarrow{\omega}_o\right)
                            =\)
                          \(\frac{dL\left(x_o,\overrightarrow{\omega}_o\right)}{d\Phi\left(x_i,\overrightarrow{\omega}_i\right)} \)</div>
                          <center>by</center>
                          <div class="equation">\(S_d\left(x_i,\overrightarrow{\omega}_i;x_o, \overrightarrow{\omega}_o\right)
                            =\)
                            \(\frac{1}{\pi}F_t\left(x_i,\overrightarrow{\omega}_i\right)
                          R\left(\|x_i-x_o\|_2\right)F_t\left(x_o,\overrightarrow{\omega}_o\right)\)</div>
                        </p>
                        <p>
                          Ft terms are the Fresnel transmittance at the entry and the exit points. The R term is a diffusion dipole which is beyond the scope of this work. The interested reader can find out more about diffusion here.
                        </p>
                        <p>
                          Before using this model to compute the scattering and the absorption we need two extra coefficients which describe the optical properties of the layers. Namely, the scattering and the absorption coefficients. When it comes to skin these can be easily determined by the chemical structure of the different tissues across both layers.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="http://via.placeholder.com/600x200">
                  </div>
                </section>
                <section id="texturing" class="col-lg-4 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Texturing</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          In contrast from the previous model this model also accounts for the texture of the rendered skin. Using texture maps we can easily add texture to the rendered skin. The problem is that most maps also include the coloration caused by the hemoglobin and melanin. In order to fix this problem the model normalizes the texture map by the already computed total reflectance of skin. This way we only see the differences caused by factors other than the actual color of the skin.
                        </p>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/600x600"> -->
                  </div>
                </section>
              </div>
            </section>
            <!-- A SPECTRAL BSSRDF 2 END -->
            <!-- WRINKLES 1 START -->
            <section id="wrinkles1" class="fullsite container-fluid">
              <div class="row">
                <div class="col-sm-12">
                  <h1 class="topic-header">Wrinkles</h1>
                </div>
              </div>
              <div class="row">
                <section id="introtowrinkes" class="col-lg-4 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Introduction to Wrinkles</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          An important feature of skin that enhances realism are wrinkles. Although we saw that the model developed by Donner and Jansen was able to add texture by using texture maps, we would like to investigate how to generate these in a more dynamic manner. A paper called “A simple method for modeling wrinkles on human skin” by Y. Bando, T. Kuratate, and T. Nishita introduces a way of achieving this and thus we shall investigate it in this section.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="http://via.placeholder.com/400x400">
                  </div>
                </section>
                <section id="propertiesofwrinkles" class="col-lg-4 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Properties of Wrinkles</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          The model distinguishes between two types of wrinkles. Fine-scale wrinkles, and large-scale wrinkles. Fine-scale wrinkles cover the whole body and are much harder to spot by eye than large-scale wrinkles which are usually associated with a certain body part such as the forehead. Both of the wrinkle types share a few features. When it comes to fine-scale wrinkles the interesting properties are that the furrow lines usually run in both directions and the intersection of two furrow lines becomes an endpoint of either. Concerning large-scale wrinkles perhaps the most important property is the preservation of skin volume. Notice that skin is incompressible and so it is shrinked around large-scale wrinkles. We will take this into consideration when modelling the shape of large-scale wrinkles.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="http://via.placeholder.com/400x300">
                  </div>
                </section>
                <section id="trianglemesh" class="col-lg-4 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Triangle Mesh</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <p>
                          This model uses a triangle mesh to represent a particular body part. Wrinkles are then modeled on top of this mesh. In order to acquire the mesh we scan the particular body part and then we project it into 2D.
                        </p>
                      </div>
                    </div>
                    <img class="card-img-bottom" src="http://via.placeholder.com/400x400">
                  </div>
                </section>
              </div>
            </section>
            <!-- WRINKLES 1 END -->
            <!-- WRINKLES 2 START -->
            <section id="wrinkles2" class="fullsite container-fluid">
              <div class="row">
                <div class="col-sm-12">
                  <h1 class="topic-header">Wrinkles</h1>
                </div>
              </div>
              <div class="row">
                <section id="finescalewrinkles" class="col-lg-12 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Fine-Scale Wrinkles</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <div class="row">
                          <div class="col-lg-6">
                            <p>
                              The key of modeling fine-scale wrinkles is the formation of a direction field on the particular body part. This direction field represents the directions of furrows at particular vertices of the triangle mesh. The user specifies a couple of direction vectors and then the rest is interpolated based on the triangle mesh.
                            </p>
                            <p>
                              Carving the wrinkles happens by carving the furrows along the direction vectors. The output of the model is a height image which represents the depth of the carved wrinkles. This can be represented as a grayscale image which is initialized to white, and each wrinkle makes its positions more gray. The model does not allow wrinkle generation from points that already contain wrinkles. This is achieved by an occupancy image which is always updated throughout the wrinkle generation algorithm. Each position is either 0 or 1 so this way we do not start a wrinkle from a position already wrinkled.
                            </p>
                            <p>
                              Before examining the actual algorithm that generates the wrinkles we need to introduce six new attributes of fine-scale wrinkles. These are the perturbation angle, the length of the furrow segment, the depth of the furrow, the width of the furrow, and the distance between adjacent furrows. The intuition behind these parameters is that they are controlled by the magnitude of the vector field in the given area. Should the magnitude be large, the wrinkles become more oriented, longer, deeper, wider, and the distance between them increases. The exact opposite happens for smaller magnitudes.
                            </p>
                            <img class="card-img-bottom" src="http://via.placeholder.com/400x150">
                          </div>
                          <div class="col-lg-6">
                            <p>
                              <b>Now let’s look at the actual algorithm.</b>
                              <ol>
                                <li>If possible pick a starting point P. Compute the number of furrow segments n needed for the furrow, and the direction d of the furrow by interpolating the direction vectors of the vertices of the triangle P lies in.</li>
                                <li>Iterating over <b>n</b> do the following steps:</li>
                                <li>Add the perturbation angle to the direction.</li>
                                <li>Let Q be the end point of the given segment. If PQ intersects some other furrow, then set Q to be the intersection point and n to 0. This follows the property of fine wrinkles which states that either furrow has to end at the intersection.</li>
                                <li>Draw a line on the grayscale image representing PQ with its depth and width obtained from the magnitude of the vector field.</li>
                                <li>Record the occupied area in the occupancy image together with the calculated distance from the adjacent furrows.</li>
                                <li>Set P to Q and continue with step 3 if n > 0.</li>
                              </ol>
                            </p>
                            <p>
                              This algorithm is performed by randomly picking starting points P until a lot of furrows fail to generate. This happens when picking a starting point becomes probabilistically hard due to the occupancy image. After we fail to generate furrows we perform the algorithm for all the points that have a 0 value in the occupancy image. In other words, they are not wrinkled yet.
                            </p>
                            <!-- <img class="card-img-bottom" src="http://via.placeholder.com/400x200"> -->
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- <img class="card-img-bottom" src="http://via.placeholder.com/400x400"> -->
                  </div>
                </section>
              </div>
            </section>
            <!-- WRINKLES 2 END -->
            <!-- WRINKLES 3 START -->
            <section id="wrinkles3" class="fullsite container-fluid">
              <div class="row">
                <div class="col-sm-12">
                  <h1 class="topic-header">Wrinkles</h1>
                </div>
              </div>
              <div class="row">
                <section id="largescalewrinkles" class="col-lg-12 d-flex align-items-strech">
                  <div class="card">
                    <h2 class="card-header">Large-Scale Wrinkles</h2>
                    <div class="card-body">
                      <div class="section-text">
                        <div class="row">
                          <div class="col-lg-6">
                            <p>
                              Modeling large scale wrinkles is much more challenging from the perspective that they can be quite distinct depending not only on the area of the skin, but also on the given person. For this reason the model can not create them in bulks, but we have to assign and generate them one by one. We can achieve this by drawing cubic Bezier curves on the surface of the skin. Then, the model creates a cross sectional wrinkle shape function \(S(l)\). Here \(l\) is the perpendicular distance from the Bezier curve.
                            </p>
                            <p>
                              \(S(l)\) can be defined as:
                            </p>
                            <img class="card-img-bottom" src="imgs/wrinklesgraph.png">
                          </div>
                          <div class="col-lg-6">
                            <p>
                              Where d is the depth and w is the width of the wrinkle. This definition of \(S(l)\) has several advantages. Firstly, it is controlled by very intuitive parameters. Secondly, it models the fact the skin bulks around the edges of the wrinkle. Finally, notice that:
                            <div class="equation"> $$ \int_0^\infty S\left(l\right)dl = 0 $$ </div class="equation">
                          </p>
                          <p>
                            This property ensures the preservation of the skin volume.
                          </p>
                          <img class="card-img-bottom" src="http://via.placeholder.com/400x300">
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- <img class="card-img-bottom" src="http://via.placeholder.com/400x400"> -->
                </div>
              </section>
            </div>
          </section>
          <!-- WRINKLES 3 END -->
        </div>
      </div>
    </div>
  </div>
  
</body>
</html>